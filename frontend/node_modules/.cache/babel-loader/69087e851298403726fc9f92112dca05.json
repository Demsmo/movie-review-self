{"ast":null,"code":"var _jsxFileName = \"/Users/demsmo/Desktop/moviereviewfinal/frontend/src/components/Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { addFavourite } from '../reducks/favourites/operations';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getFavourites } from '../reducks/favourites/selectors';\nimport star from \"../assets/img/star.svg\";\nimport heart from \"../assets/img/favorite-button.svg\";\nimport trailer from '../assets/img/trailer button.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Card(_ref) {\n  _s();\n\n  let {\n    movie\n  } = _ref;\n  const dispatch = useDispatch();\n\n  const clickFavourite = movie => {\n    if (favourites) {\n      let isFavExist = favourites.find(fav => fav.id === movie.id);\n\n      if (!isFavExist) {\n        dispatch(addFavourite(movie));\n      } else {\n        alert('already added');\n      }\n    }\n  };\n\n  const selector = useSelector(state => state);\n  const favourites = getFavourites(selector);\n  const [showLikeButton, setshowLikeButton] = useState(true);\n  useEffect(() => {\n    const favourites = [];\n    let favoriteMovie = favourites.filter(favourite => favourite.id === movie.id);\n\n    if (favoriteMovie.length > 0) {\n      setshowLikeButton(false);\n    }\n  }, [favourites]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"movie-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: movie.image,\n        alt: \"movie-poster\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), showLikeButton && /*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: () => {\n          clickFavourite(movie);\n        },\n        src: heart,\n        alt: \"\",\n        class: \"favorite-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        class: \"movie-title\",\n        children: movie.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"rating-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: star,\n          alt: \"\",\n          class: \"star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"rating\",\n          children: [\" \", movie.rating, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"outof5\",\n          children: \"/5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"trailer-button\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: movie.trailer_link,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: trailer,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 69\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Card, \"PKl7BM7TYDJf/PdCwPUayUZ/occ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useEffect","useState","addFavourite","useSelector","useDispatch","getFavourites","trailer","Card","movie","dispatch","clickFavourite","favourites","isFavExist","find","fav","id","alert","selector","state","showLikeButton","setshowLikeButton","favoriteMovie","filter","favourite","length","image","heart","name","star","rating","trailer_link"],"sources":["/Users/demsmo/Desktop/moviereviewfinal/frontend/src/components/Card.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { addFavourite } from '../reducks/favourites/operations'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getFavourites } from '../reducks/favourites/selectors'\nimport star from '../assets/img/star.svg'\nimport heart from '../assets/img/favorite-button.svg'\nimport trailer from '../assets/img/trailer button.png'\n\nexport default function Card({ movie }) {\n  const dispatch = useDispatch();\n  \n\n  const clickFavourite = (movie) => {\n    if(favourites){\n    let isFavExist = favourites.find(fav => fav.id === movie.id)\n    if (!isFavExist) {\n      dispatch(addFavourite(movie))\n    }\n    else {\n      alert('already added')\n    }\n  }\n  };\n\n  const selector = useSelector(state => state);\n  const favourites = getFavourites(selector)\n  const [showLikeButton, setshowLikeButton] = useState(true);\n  useEffect(() => {\n    const favourites = []\n    let favoriteMovie = favourites.filter(favourite => favourite.id === movie.id)\n    if (favoriteMovie.length > 0) {\n      setshowLikeButton(false);\n    }\n  }, [favourites])\n\n  return (\n    <div>\n      <div class=\"movie-card\">\n        <img src={movie.image} alt=\"movie-poster\" />\n        {showLikeButton && (\n          <img onClick={() => { clickFavourite(movie); }} src={heart} alt=\"\" class=\"favorite-button\"></img>\n        )}\n\n        <h2 class=\"movie-title\">{movie.name}</h2>\n        <div class=\"rating-div\">\n          <img src={star} alt=\"\" class=\"star\" />\n          <span class=\"rating\"> {movie.rating} </span>\n          <span class=\"outof5\">/5</span>\n          <span class=\"trailer-button\"><a href={movie.trailer_link}><img src={trailer} alt=\"\" /></a></span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,iCAA9B;;;AAGA,OAAOC,OAAP,MAAoB,kCAApB;;AAEA,eAAe,SAASC,IAAT,OAAyB;EAAA;;EAAA,IAAX;IAAEC;EAAF,CAAW;EACtC,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;;EAGA,MAAMM,cAAc,GAAIF,KAAD,IAAW;IAChC,IAAGG,UAAH,EAAc;MACd,IAAIC,UAAU,GAAGD,UAAU,CAACE,IAAX,CAAgBC,GAAG,IAAIA,GAAG,CAACC,EAAJ,KAAWP,KAAK,CAACO,EAAxC,CAAjB;;MACA,IAAI,CAACH,UAAL,EAAiB;QACfH,QAAQ,CAACP,YAAY,CAACM,KAAD,CAAb,CAAR;MACD,CAFD,MAGK;QACHQ,KAAK,CAAC,eAAD,CAAL;MACD;IACF;EACA,CAVD;;EAYA,MAAMC,QAAQ,GAAGd,WAAW,CAACe,KAAK,IAAIA,KAAV,CAA5B;EACA,MAAMP,UAAU,GAAGN,aAAa,CAACY,QAAD,CAAhC;EACA,MAAM,CAACE,cAAD,EAAiBC,iBAAjB,IAAsCnB,QAAQ,CAAC,IAAD,CAApD;EACAD,SAAS,CAAC,MAAM;IACd,MAAMW,UAAU,GAAG,EAAnB;IACA,IAAIU,aAAa,GAAGV,UAAU,CAACW,MAAX,CAAkBC,SAAS,IAAIA,SAAS,CAACR,EAAV,KAAiBP,KAAK,CAACO,EAAtD,CAApB;;IACA,IAAIM,aAAa,CAACG,MAAd,GAAuB,CAA3B,EAA8B;MAC5BJ,iBAAiB,CAAC,KAAD,CAAjB;IACD;EACF,CANQ,EAMN,CAACT,UAAD,CANM,CAAT;EAQA,oBACE;IAAA,uBACE;MAAK,KAAK,EAAC,YAAX;MAAA,wBACE;QAAK,GAAG,EAAEH,KAAK,CAACiB,KAAhB;QAAuB,GAAG,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA,QADF,EAEGN,cAAc,iBACb;QAAK,OAAO,EAAE,MAAM;UAAET,cAAc,CAACF,KAAD,CAAd;QAAwB,CAA9C;QAAgD,GAAG,EAAEkB,KAArD;QAA4D,GAAG,EAAC,EAAhE;QAAmE,KAAK,EAAC;MAAzE;QAAA;QAAA;QAAA;MAAA,QAHJ,eAME;QAAI,KAAK,EAAC,aAAV;QAAA,UAAyBlB,KAAK,CAACmB;MAA/B;QAAA;QAAA;QAAA;MAAA,QANF,eAOE;QAAK,KAAK,EAAC,YAAX;QAAA,wBACE;UAAK,GAAG,EAAEC,IAAV;UAAgB,GAAG,EAAC,EAApB;UAAuB,KAAK,EAAC;QAA7B;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAM,KAAK,EAAC,QAAZ;UAAA,gBAAuBpB,KAAK,CAACqB,MAA7B;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAM,KAAK,EAAC,QAAZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF,eAIE;UAAM,KAAK,EAAC,gBAAZ;UAAA,uBAA6B;YAAG,IAAI,EAAErB,KAAK,CAACsB,YAAf;YAAA,uBAA6B;cAAK,GAAG,EAAExB,OAAV;cAAmB,GAAG,EAAC;YAAvB;cAAA;cAAA;cAAA;YAAA;UAA7B;YAAA;YAAA;YAAA;UAAA;QAA7B;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QAPF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD;;GA7CuBC,I;UACLH,W,EAeAD,W;;;KAhBKI,I"},"metadata":{},"sourceType":"module"}